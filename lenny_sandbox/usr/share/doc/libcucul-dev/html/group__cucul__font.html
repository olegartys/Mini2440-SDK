<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>libcaca documentation</title>
    <link href="doxygen.css" rel="stylesheet" type="text/css">
  </head>
  <body>
<!-- $Id$ -->
<!-- Generated by Doxygen 1.5.6 -->
<div class="contents">
<h1>libcucul font handling</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern <a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__font.html#g7670d032e1ff8d3665598855a60ff312">cucul_load_font</a> (void const *, size_t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load a font from memory for future use.  <a href="#g7670d032e1ff8d3665598855a60ff312"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern char const *const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__font.html#g08e872f976b6df6f77f47e7f466705c7">cucul_get_font_list</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get available builtin fonts.  <a href="#g08e872f976b6df6f77f47e7f466705c7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__font.html#ge22205e3d3e61d18033e3a35682fa168">cucul_get_font_width</a> (<a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> const *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a font's standard glyph width.  <a href="#ge22205e3d3e61d18033e3a35682fa168"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__font.html#g064fd7bb3a9bd2565b1c58238ac5719c">cucul_get_font_height</a> (<a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> const *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a font's standard glyph height.  <a href="#g064fd7bb3a9bd2565b1c58238ac5719c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern uint32_t const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__font.html#g4e89d91af089cc8538e5afb90a4171bf">cucul_get_font_blocks</a> (<a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> const *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a font's list of supported glyphs.  <a href="#g4e89d91af089cc8538e5afb90a4171bf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__font.html#g2533c1f106c1efe47679affc42a2404d">cucul_render_canvas</a> (<a class="el" href="cucul_8h.html#0e7a267dbc21f942cc730fecb0f7e095">cucul_canvas_t</a> const *, <a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> const *, void *, int, int, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Render the canvas onto an image buffer.  <a href="#g2533c1f106c1efe47679affc42a2404d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__font.html#gd72e898a81f7f9a65ac5a809c947a86c">cucul_free_font</a> (<a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a font structure.  <a href="#gd72e898a81f7f9a65ac5a809c947a86c"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
These functions provide font handling routines and high quality canvas to bitmap rendering. <hr><h2>Function Documentation</h2>
<a class="anchor" name="g7670d032e1ff8d3665598855a60ff312"></a><!-- doxytag: member="cucul.h::cucul_load_font" ref="g7670d032e1ff8d3665598855a60ff312" args="(void const *, size_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern <a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a>* cucul_load_font           </td>
          <td>(</td>
          <td class="paramtype">void const *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function loads a font and returns a handle to its internal structure. The handle can then be used with <a class="el" href="group__cucul__font.html#g2533c1f106c1efe47679affc42a2404d" title="Render the canvas onto an image buffer.">cucul_render_canvas()</a> for bitmap output.<p>
Internal fonts can also be loaded: if <code>size</code> is set to 0, <code>data</code> must be a string containing the internal font name.<p>
If <code>size</code> is non-zero, the <code>size</code> bytes of memory at address <code>data</code> are loaded as a font. This memory are must not be freed by the calling program until the font handle has been freed with <a class="el" href="group__cucul__font.html#gd72e898a81f7f9a65ac5a809c947a86c" title="Free a font structure.">cucul_free_font()</a>.<p>
If an error occurs, NULL is returned and <b>errno</b> is set accordingly:<ul>
<li><code>ENOENT</code> Requested built-in font does not exist.</li><li><code>EINVAL</code> Invalid font data in memory area.</li><li><code>ENOMEM</code> Not enough memory to allocate font structure.</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>The memory area containing the font or its name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The size of the memory area, or 0 if the font name is given. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A font handle or NULL in case of error. </dd></dl>

<p>References <a class="el" href="font_8c-source.html#l00113">cucul_load_font()</a>.</p>

<p>Referenced by <a class="el" href="font_8c-source.html#l00113">cucul_load_font()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g08e872f976b6df6f77f47e7f466705c7"></a><!-- doxytag: member="cucul.h::cucul_get_font_list" ref="g08e872f976b6df6f77f47e7f466705c7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern char const* const* cucul_get_font_list           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a list of available builtin fonts. The list is a NULL-terminated array of strings.<p>
This function never fails.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array of strings. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ge22205e3d3e61d18033e3a35682fa168"></a><!-- doxytag: member="cucul.h::cucul_get_font_width" ref="ge22205e3d3e61d18033e3a35682fa168" args="(cucul_font_t const *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern int cucul_get_font_width           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the standard value for the current font's glyphs. Most glyphs in the font will have this width, except fullwidth characters.<p>
This function never fails.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>The font, as returned by <a class="el" href="group__cucul__font.html#g7670d032e1ff8d3665598855a60ff312" title="Load a font from memory for future use.">cucul_load_font()</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The standard glyph width. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g064fd7bb3a9bd2565b1c58238ac5719c"></a><!-- doxytag: member="cucul.h::cucul_get_font_height" ref="g064fd7bb3a9bd2565b1c58238ac5719c" args="(cucul_font_t const *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern int cucul_get_font_height           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the standard value for the current font's glyphs. Most glyphs in the font will have this height.<p>
This function never fails.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>The font, as returned by <a class="el" href="group__cucul__font.html#g7670d032e1ff8d3665598855a60ff312" title="Load a font from memory for future use.">cucul_load_font()</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The standard glyph height. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g4e89d91af089cc8538e5afb90a4171bf"></a><!-- doxytag: member="cucul.h::cucul_get_font_blocks" ref="g4e89d91af089cc8538e5afb90a4171bf" args="(cucul_font_t const *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern uint32_t const* cucul_get_font_blocks           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function returns the list of Unicode blocks supported by the given font. The list is a zero-terminated list of indices. Here is an example:<p>
<div class="fragment"><pre class="fragment">  {
     0x0000, 0x0080,   <span class="comment">// Basic latin: A, B, C, a, b, c</span>
     0x0080, 0x0100,   <span class="comment">// Latin-1 supplement: "A, 'e, ^u</span>
     0x0530, 0x0590,   <span class="comment">// Armenian</span>
     0x0000, 0x0000,   <span class="comment">// END</span>
  };
</pre></div><p>
This function never fails.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>The font, as returned by <a class="el" href="group__cucul__font.html#g7670d032e1ff8d3665598855a60ff312" title="Load a font from memory for future use.">cucul_load_font()</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The list of Unicode blocks supported by the font. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g2533c1f106c1efe47679affc42a2404d"></a><!-- doxytag: member="cucul.h::cucul_render_canvas" ref="g2533c1f106c1efe47679affc42a2404d" args="(cucul_canvas_t const *, cucul_font_t const *, void *, int, int, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern int cucul_render_canvas           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cucul_8h.html#0e7a267dbc21f942cc730fecb0f7e095">cucul_canvas_t</a> const *&nbsp;</td>
          <td class="paramname"> <em>cv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pitch</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function renders the given canvas on an image buffer using a specific font. The pixel format is fixed (32-bit ARGB, 8 bits for each component).<p>
The required image width can be computed using <a class="el" href="group__libcucul.html#g0b6d866e23ef3492af7c4d8c5290012b" title="Get the canvas width.">cucul_get_canvas_width()</a> and <a class="el" href="group__cucul__font.html#ge22205e3d3e61d18033e3a35682fa168" title="Get a font&#39;s standard glyph width.">cucul_get_font_width()</a>. The required height can be computed using <a class="el" href="group__libcucul.html#g2517df334eb58617e030cd52cabf9e80" title="Get the canvas height.">cucul_get_canvas_height()</a> and <a class="el" href="group__cucul__font.html#g064fd7bb3a9bd2565b1c58238ac5719c" title="Get a font&#39;s standard glyph height.">cucul_get_font_height()</a>.<p>
Glyphs that do not fit in the image buffer are currently not rendered at all. They may be cropped instead in future versions.<p>
If an error occurs, -1 is returned and <b>errno</b> is set accordingly:<ul>
<li><code>EINVAL</code> Specified width, height or pitch is invalid.</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cv</em>&nbsp;</td><td>The canvas to render </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>The font, as returned by <a class="el" href="group__cucul__font.html#g7670d032e1ff8d3665598855a60ff312" title="Load a font from memory for future use.">cucul_load_font()</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>The image buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>The width (in pixels) of the image buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>The height (in pixels) of the image buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pitch</em>&nbsp;</td><td>The pitch (in bytes) of an image buffer line. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 in case of success, -1 if an error occurred. </dd></dl>

<p>References <a class="el" href="attr_8c-source.html#l00369">cucul_attr_to_argb64()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd72e898a81f7f9a65ac5a809c947a86c"></a><!-- doxytag: member="cucul.h::cucul_free_font" ref="gd72e898a81f7f9a65ac5a809c947a86c" args="(cucul_font_t *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern int cucul_free_font           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cucul_8h.html#d7603f7bb96cb6c6a6a0030168fd9e50">cucul_font_t</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function frees all data allocated by <a class="el" href="group__cucul__font.html#g7670d032e1ff8d3665598855a60ff312" title="Load a font from memory for future use.">cucul_load_font()</a>. The font structure is no longer usable by other libcucul functions. Once this function has returned, the memory area that was given to <a class="el" href="group__cucul__font.html#g7670d032e1ff8d3665598855a60ff312" title="Load a font from memory for future use.">cucul_load_font()</a> can be freed.<p>
This function never fails.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>The font, as returned by <a class="el" href="group__cucul__font.html#g7670d032e1ff8d3665598855a60ff312" title="Load a font from memory for future use.">cucul_load_font()</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>This function always returns 0. </dd></dl>

</div>
</div><p>
</div>
<!-- $Id$ -->
  </body>
</html>
