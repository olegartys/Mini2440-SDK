<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>libcaca documentation</title>
    <link href="doxygen.css" rel="stylesheet" type="text/css">
  </head>
  <body>
<!-- $Id$ -->
<!-- Generated by Doxygen 1.5.6 -->
<div class="contents">
<h1>libcucul importers/exporters from/to various</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__importexport.html#g3b3231d1b1ce48dec83fd3c9534e17a1">cucul_import_memory</a> (<a class="el" href="cucul_8h.html#0e7a267dbc21f942cc730fecb0f7e095">cucul_canvas_t</a> *, void const *, size_t, char const *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Import a memory buffer into a canvas.  <a href="#g3b3231d1b1ce48dec83fd3c9534e17a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__importexport.html#gf636e5d0308c6969725f0a3843f50697">cucul_import_file</a> (<a class="el" href="cucul_8h.html#0e7a267dbc21f942cc730fecb0f7e095">cucul_canvas_t</a> *, char const *, char const *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Import a file into a canvas.  <a href="#gf636e5d0308c6969725f0a3843f50697"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern char const *const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__importexport.html#gebe7f9d83994003907ff45780dfeba7c">cucul_get_import_list</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get available import formats.  <a href="#gebe7f9d83994003907ff45780dfeba7c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__importexport.html#g043ae1cc71e8b06fcb29add4e575a28f">cucul_export_memory</a> (<a class="el" href="cucul_8h.html#0e7a267dbc21f942cc730fecb0f7e095">cucul_canvas_t</a> const *, char const *, size_t *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Export a canvas into a foreign format.  <a href="#g043ae1cc71e8b06fcb29add4e575a28f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__extern char const *const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cucul__importexport.html#g943b3ecb97c7a8a97feb8a7de7bc6e8a">cucul_get_export_list</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get available export formats.  <a href="#g943b3ecb97c7a8a97feb8a7de7bc6e8a"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
formats<p>
These functions import various file formats into a new canvas, or export the current canvas to various text formats. <hr><h2>Function Documentation</h2>
<a class="anchor" name="g3b3231d1b1ce48dec83fd3c9534e17a1"></a><!-- doxytag: member="cucul.h::cucul_import_memory" ref="g3b3231d1b1ce48dec83fd3c9534e17a1" args="(cucul_canvas_t *, void const *, size_t, char const *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern ssize_t cucul_import_memory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cucul_8h.html#0e7a267dbc21f942cc730fecb0f7e095">cucul_canvas_t</a> *&nbsp;</td>
          <td class="paramname"> <em>cv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&nbsp;</td>
          <td class="paramname"> <em>format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Import a memory buffer into the given libcucul canvas's current frame. The current frame is resized accordingly and its contents are replaced with the imported data.<p>
Valid values for <code>format</code> are:<ul>
<li><code>""</code>: attempt to autodetect the file format.</li><li><code>"caca"</code>: import native libcaca files.</li><li><code>"text"</code>: import ASCII text files.</li><li><code>"ansi"</code>: import ANSI files.</li><li><code>"utf8"</code>: import UTF-8 files with ANSI colour codes.</li></ul>
<p>
The number of bytes read is returned. If the file format is valid, but not enough data was available, 0 is returned.<p>
If an error occurs, -1 is returned and <b>errno</b> is set accordingly:<ul>
<li><code>ENOMEM</code> Not enough memory to allocate canvas.</li><li><code>EINVAL</code> Invalid format requested.</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cv</em>&nbsp;</td><td>A libcucul canvas in which to import the file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>A memory area containing the data to be loaded into the canvas. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The size in bytes of the memory area. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>A string describing the input format. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes read, or 0 if there was not enough data, or -1 if an error occurred. </dd></dl>

<p>Referenced by <a class="el" href="import_8c-source.html#l00153">cucul_import_file()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf636e5d0308c6969725f0a3843f50697"></a><!-- doxytag: member="cucul.h::cucul_import_file" ref="gf636e5d0308c6969725f0a3843f50697" args="(cucul_canvas_t *, char const *, char const *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern ssize_t cucul_import_file           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cucul_8h.html#0e7a267dbc21f942cc730fecb0f7e095">cucul_canvas_t</a> *&nbsp;</td>
          <td class="paramname"> <em>cv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&nbsp;</td>
          <td class="paramname"> <em>format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Import a file into the given libcucul canvas's current frame. The current frame is resized accordingly and its contents are replaced with the imported data.<p>
Valid values for <code>format</code> are:<ul>
<li><code>""</code>: attempt to autodetect the file format.</li><li><code>"caca"</code>: import native libcaca files.</li><li><code>"text"</code>: import ASCII text files.</li><li><code>"ansi"</code>: import ANSI files.</li><li><code>"utf8"</code>: import UTF-8 files with ANSI colour codes.</li></ul>
<p>
The number of bytes read is returned. If the file format is valid, but not enough data was available, 0 is returned.<p>
If an error occurs, -1 is returned and <b>errno</b> is set accordingly:<ul>
<li><code>ENOSYS</code> File access is not implemented on this system.</li><li><code>ENOMEM</code> Not enough memory to allocate canvas.</li><li><code>EINVAL</code> Invalid format requested. <a class="el" href="group__cucul__importexport.html#gf636e5d0308c6969725f0a3843f50697" title="Import a file into a canvas.">cucul_import_file()</a> may also fail and set <b>errno</b> for any of the errors specified for the routine fopen().</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cv</em>&nbsp;</td><td>A libcucul canvas in which to import the file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>The name of the file to load. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>A string describing the input format. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes read, or 0 if there was not enough data, or -1 if an error occurred. </dd></dl>

<p>References <a class="el" href="import_8c-source.html#l00088">cucul_import_memory()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gebe7f9d83994003907ff45780dfeba7c"></a><!-- doxytag: member="cucul.h::cucul_get_import_list" ref="gebe7f9d83994003907ff45780dfeba7c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern char const* const* cucul_get_import_list           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a list of available import formats. The list is a NULL-terminated array of strings, interleaving a string containing the internal value for the import format, to be used with cucul_import_canvas(), and a string containing the natural language description for that import format.<p>
This function never fails.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array of strings. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g043ae1cc71e8b06fcb29add4e575a28f"></a><!-- doxytag: member="cucul.h::cucul_export_memory" ref="g043ae1cc71e8b06fcb29add4e575a28f" args="(cucul_canvas_t const *, char const *, size_t *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern void* cucul_export_memory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cucul_8h.html#0e7a267dbc21f942cc730fecb0f7e095">cucul_canvas_t</a> const *&nbsp;</td>
          <td class="paramname"> <em>cv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function exports a libcucul canvas into various foreign formats such as ANSI art, HTML, IRC colours, etc. The returned pointer should be passed to free() to release the allocated storage when it is no longer needed.<p>
Valid values for <code>format</code> are:<ul>
<li><code>"caca"</code>: export native libcaca files.</li><li><code>"ansi"</code>: export ANSI art (CP437 charset with ANSI colour codes).</li><li><code>"html"</code>: export an HTML page with CSS information.</li><li><code>"html3"</code>: export an HTML table that should be compatible with most navigators, including textmode ones.</li><li><code>"irc"</code>: export UTF-8 text with mIRC colour codes.</li><li><code>"ps"</code>: export a PostScript document.</li><li><code>"svg"</code>: export an SVG vector image.</li><li><code>"tga"</code>: export a TGA image.</li></ul>
<p>
If an error occurs, NULL is returned and <b>errno</b> is set accordingly:<ul>
<li><code>EINVAL</code> Unsupported format requested.</li><li><code>ENOMEM</code> Not enough memory to allocate output buffer.</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cv</em>&nbsp;</td><td>A libcucul canvas </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>A string describing the requested output format. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bytes</em>&nbsp;</td><td>A pointer to a size_t where the number of allocated bytes will be written. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to the exported memory area, or NULL in case of error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g943b3ecb97c7a8a97feb8a7de7bc6e8a"></a><!-- doxytag: member="cucul.h::cucul_get_export_list" ref="g943b3ecb97c7a8a97feb8a7de7bc6e8a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extern char const* const* cucul_get_export_list           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a list of available export formats. The list is a NULL-terminated array of strings, interleaving a string containing the internal value for the export format, to be used with <a class="el" href="group__cucul__importexport.html#g043ae1cc71e8b06fcb29add4e575a28f" title="Export a canvas into a foreign format.">cucul_export_memory()</a>, and a string containing the natural language description for that export format.<p>
This function never fails.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array of strings. </dd></dl>

</div>
</div><p>
</div>
<!-- $Id$ -->
  </body>
</html>
